{"_id":"rpc-stream","_rev":"31-6db9edc422fe33419d35cfe1b1b1b1da","name":"rpc-stream","description":"very simple rpc. use with any thing that has .pipe()","dist-tags":{"latest":"2.0.0"},"versions":{"0.0.0":{"name":"rpc-stream","version":"0.0.0","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"request":"~2.9.202"},"devDependencies":{},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_id":"rpc-stream@0.0.0","_engineSupported":true,"_npmVersion":"1.1.21","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"cfcdd8b84dd2610e7a85d0e18b542005caf6c654","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.0.0.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.1.0":{"name":"rpc-stream","version":"0.1.0","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"request":"~2.9.202"},"devDependencies":{},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_id":"rpc-stream@0.1.0","_engineSupported":true,"_npmVersion":"1.1.21","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"5ded6edc9c9221c1d7f3ab392c13b94351db1fa5","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.1.0.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.1.1":{"name":"rpc-stream","version":"0.1.1","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"event-stream":"1.3"},"devDependencies":{"request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_id":"rpc-stream@0.1.1","_engineSupported":true,"_npmVersion":"1.1.21","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"e2880b5b19cc79e224d7e10b2d78b8f2fd9fd31d","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.1.1.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.1.2":{"name":"rpc-stream","version":"0.1.2","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"event-stream":"1.3"},"devDependencies":{"request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_id":"rpc-stream@0.1.2","_engineSupported":true,"_npmVersion":"1.1.21","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"e29435944c51cc34e863047fc2117286e201bc12","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.1.2.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.1.3":{"name":"rpc-stream","version":"0.1.3","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"event-stream":"~2"},"devDependencies":{"request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_id":"rpc-stream@0.1.3","_engineSupported":true,"_npmVersion":"1.1.23","_nodeVersion":"v0.6.18","_defaultsLoaded":true,"dist":{"shasum":"cadc4bc82fdd9117e20d209ceb5618661b5cfff3","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.1.3.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.2.0":{"name":"rpc-stream","version":"0.2.0","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.2.7"},"devDependencies":{"event-stream":"~2","request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_id":"rpc-stream@0.2.0","dist":{"shasum":"d20f85cf09ef30bd002a862461737cffdd87ee26","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.2.0.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.2.1":{"name":"rpc-stream","version":"0.2.1","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.2.7"},"devDependencies":{"event-stream":"~2","request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_id":"rpc-stream@0.2.1","dist":{"shasum":"43a92fb449f89ab8d9d48de60afa97776e4bb23e","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.2.1.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"0.2.2":{"name":"rpc-stream","version":"0.2.2","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","request":"~2.9.202"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"engines":{"node":"*"},"scripts":{"test":"asynct test/*.js"},"_id":"rpc-stream@0.2.2","dist":{"shasum":"96d9c0700053f2c7865d86bb142b3d5f2796903b","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-0.2.2.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.0":{"name":"rpc-stream","version":"1.0.0","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"node test/index.js"},"_id":"rpc-stream@1.0.0","dist":{"shasum":"8e1e20db8aacba6e88886d3189c1d26a3a25f5ce","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.0.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.1":{"name":"rpc-stream","version":"1.0.1","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"node test/index.js"},"_id":"rpc-stream@1.0.1","dist":{"shasum":"009f96bfa5dfc72e906c5798276549751f7a17c9","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.1.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.2":{"name":"rpc-stream","version":"1.0.2","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"set -e; for t in test/*.js; do node $t; done"},"_id":"rpc-stream@1.0.2","dist":{"shasum":"a4ea8d7f277a1bce80bec0dc320796383c14b76c","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.2.tgz"},"_from":".","_npmVersion":"1.2.3","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.3":{"name":"rpc-stream","version":"1.0.3","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"tap test/*.js"},"_id":"rpc-stream@1.0.3","dist":{"shasum":"45cc01b2d07a020b5814d5aa172fb46b34e2b9b9","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.3.tgz"},"_from":".","_npmVersion":"1.2.18","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.4":{"name":"rpc-stream","version":"1.0.4","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"set -e; for t in test/*.js; do node $t; done"},"bugs":{"url":"https://github.com/dominictarr/rpc-stream/issues"},"_id":"rpc-stream@1.0.4","dist":{"shasum":"6bd13704ed917677d3b32bb23acba6eb84c29997","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.4.tgz"},"_from":".","_npmVersion":"1.2.30","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"1.0.5":{"name":"rpc-stream","version":"1.0.5","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"set -e; for t in test/*.js; do node $t; done"},"bugs":{"url":"https://github.com/dominictarr/rpc-stream/issues"},"_id":"rpc-stream@1.0.5","dist":{"shasum":"6de60b5c5f7990728e4f37e5d40b36d94b93e7b2","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-1.0.5.tgz"},"_from":".","_npmVersion":"1.3.0","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}},"2.0.0":{"name":"rpc-stream","version":"2.0.0","description":"very simple rpc. use with any thing that has .pipe()","homepage":"http://github.com/dominictarr/rpc-stream","repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"dependencies":{"stream-serializer":"~1.0.0","through":"~2.3.1"},"devDependencies":{"event-stream":"~2","tape":"~0.3.3"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"optionalDependencies":{},"scripts":{"test":"set -e; for t in test/*.js; do node $t; done"},"bugs":{"url":"https://github.com/dominictarr/rpc-stream/issues"},"_id":"rpc-stream@2.0.0","dist":{"shasum":"291990ac728f37c9d299c115227fed64055bda42","tarball":"http://registry.npmjs.org/rpc-stream/-/rpc-stream-2.0.0.tgz"},"_from":".","_npmVersion":"1.3.24","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"directories":{}}},"readme":"#rpc-stream\n\n`RpcStream` is a dead simple (75 loc) rpc system that works over any full-duplex text/byte/json stream.\nThere's also a [Python port](https://github.com/riga/rpyc-stream), e.g. for cross-language RPC-over-SSH.\n\n## ports\n\n* [rpyc-stream](https://github.com/riga/rpyc-stream) Python\n\n## rant\n\nThere are a bunch of people have already written node rpc systems, but most of them has done it _right_ yet.\nMy beef is that all these systems is that they are tightly coupled to, or wrapped around servers. what if I want to encrypt the messages? what if I want to send the messages over stdin/out, or over ssh? of write them to a temp file? there is one abstraction that matches all of these cases; the `Stream`\n\nI should just be able to do this:\n\n``` js\n  REMOTE_SSH_STREAM           //<-- pipe data from a remote source\n    .pipe(DECRYPT_STREAM)    //through some ('middleware') streams (ssh already encrypts, but I'm paranoid)\n    .pipe(GUNZIP_STREAM)\n    .pipe(RPC)               //<--- pipe the data through the RPC system.\n    .pipe(GZIP_STREAM)\n    .pipe(ENCYPT_STREAM)\n    .pipe(REMOTE_SSH_STREAM)  //<-- and back to the remote\n\n  //with something very similar on the other side.\n```\nRPC framework (AHEM! RPC MODULE!), _you_ just worry about calling the right function, _I'll_ decide where you go...\n\nupdate: [dnode@1.0.0](https://github.com/substack/dnode) now has first class streams, and you can pipe it where you like! \n\n## usage\n\n```js\nvar rpc = require('rpc-stream')\n\n//create a server, that answers questions.\n//pass in functions that may be called remotely.\nvar server = rpc({hello: function (name, cb) {\n  cb(null, 'hello, '+name)\n}})\n\n//create a client, that asks questions.\nvar client = rpc()\n\n//pipe rpc instances together!\nclient.pipe(server).pipe(client)\n\nvar remote = client.wrap(['hello'])\nremote.hello('JIM', function (err, mess) {\n  if(err) throw err\n  console.log(mess)\n})\n```\n\n### rpc(methods, isRaw)\n\nreturns a `RpcStream` that will call `methods` when written to. If the `isRaw` parameter is set to `true`, `JSON.stringify()`\nis turned off and you just get a stream of objects, in case you want to do your own parsing/stringifying.\n\n### RpcStream\\#wrap(methodNames)\n\nreturns a wrapped object with the remote's methods.\nthe client needs to already know the names of the methods.\naccepts a string, and array of strings, or a object.\nif it's an object, `wrap` will use the keys as the method names. \n\n```js\n//create rpc around the fs module.\nvar fsrpc = rpc(require('fs'))\n//pipe, etc\n```\n\nthen, in another process...\n\n```js\nvar fsrpc = rpc()\n//pipe, etc\n\n//wrap, with the right method names.\nvar remoteFs = fs.wrap(require('fs'))\n\nremoteFs.mkdir('/tmp/whatever', function (err, dir) {\n  //yay!  \n})\n\n```\n\nnow, the second process can call the `fs` module in the first process!\n`wrap` does not use the methods for anything. it just wants the names.\n\n### RpcStream#rpc(name, args, cb)\n\nthis gets invoked by wrap. but you could call it directly.\n\n``` js\nrpc().wrap('hello').hello(name, callback)\n//is the same as\nrpc().rpc('hello', [name], callback)\n```\n\n### RpcStream#pipe\n\nthis is why we are here. read [this](http://nodejs.org/api/stream.html#stream_stream_pipe_destination_options) and [this](https://github.com/joyent/node/blob/master/lib/stream.js)\n\n\n## license\n\nMIT/APACHE2\n","maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"time":{"modified":"2014-03-12T21:00:22.472Z","created":"2012-05-27T18:24:54.956Z","0.0.0":"2012-05-27T18:25:03.480Z","0.1.0":"2012-05-28T09:03:50.276Z","0.1.1":"2012-05-28T09:52:46.512Z","0.1.2":"2012-05-28T10:28:21.951Z","0.1.3":"2012-06-13T05:24:37.728Z","0.2.0":"2013-04-12T19:49:57.965Z","0.2.1":"2013-04-12T23:21:45.405Z","0.2.2":"2013-04-13T11:35:45.730Z","1.0.0":"2013-04-19T14:44:09.271Z","1.0.1":"2013-04-19T14:53:25.075Z","1.0.2":"2013-04-20T18:20:35.192Z","1.0.3":"2013-06-03T22:29:15.704Z","1.0.4":"2013-06-17T23:10:30.207Z","1.0.5":"2013-07-22T10:26:35.686Z","2.0.0":"2014-03-12T21:00:22.472Z"},"author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"dominictarr.com"},"repository":{"type":"git","url":"git://github.com/dominictarr/rpc-stream.git"},"homepage":"http://github.com/dominictarr/rpc-stream","bugs":{"url":"https://github.com/dominictarr/rpc-stream/issues"},"readmeFilename":"readme.markdown","_attachments":{},"_etag":"\"8H1HB0FJ8Z5D34IZTM07BEOSN\""}